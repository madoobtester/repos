<!doctype html><html lang="en">
<head><meta charset="UTF-8">
<meta name=viewport content="width=device-width, initial-scale=1">
<link rel="STYLESHEET" href="../main.css" type="text/css">
<title>WEVTUTIL - Windows CMD - SS64.com</title>
</head><body><!-- #BeginLibraryItem "/Library/head_nt.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="../"> ( &nbsp;SS64 &nbsp;)</a></li>
<li class="tbtn"><a href="../nt">CMD</a></li>
<li class="tbtn"><a href="syntax.html">Syntax</a></li>
<li><div id="search"><form action="https://www.google.com/search" method="get">
<input type="text" name="q" id="q" size="27" maxlength="255">
<input class="submit" value="Search" id="btn" type="submit">
<input type="hidden" name="sitesearch" value="ss64.com/nt/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>WEVTUTIL</h1>
<p> Retrieve information about event logs and publishers. Archive logs in a self-contained format, Enumerate the available logs, Install and uninstall event manifests,  run queries,   
Exports events (from an event log, from a log file, or using a structured query) to a specified file,
Clear event logs.
<pre>Syntax
      WEVTUTIL {al | <b>archive-log</b>} <i>Logpath</i> [/l:<i>Locale</i>]     # Archive an exported log.

      WEVTUTIL {cl | <b>clear-log</b>} <i>Logname</i>  [/bu:<i>Backup</i>]     # Clear a log and optionally backup.

      WEVTUTIL {el | <b>enum-logs</b>}]           # List Log_Names and configuration, including max. size, enabled Y/N, and
                                             pathname where the log is stored.

      WEVTUTIL {epl |<b> export-log</b>} <i>LogFile</i> <i>Exportfile</i>      # Export Event log, optionally a logfile path + structured query.
         [/lf | Logfile :[true|false]] [/{q | query}:<i>VALUE</i>]  # provide a Log name or log_file_path (if /lf = true)
            [/{sq | structuredquery}:[true|false]]  [/ow | Overwrite :[true|false] ]
                                           
      WEVTUTIL {ep | <b>enum-publishers</b>}       # List event publishers.

      WEVTUTIL {gl | <b>get-log</b>} <i>Logname</i>       # Display the log configuration and optionally output
         [/{f | format}:[XML|Text]]         # the config details in XML, plain text is the default.

      WEVTUTIL {gli | <b>get-loginfo</b>} <i>LogName</i> [/lf | Logfile:[true|false]]    # Get log status
                                            # provide a Log name or log_file_path (if /lf = true)
 
      WEVTUTIL {gp | <b>get-publisher</b>} <i>PublisherName</i>        # Get publisher configuration, and optionally Event Metadata.
         [/{ge | getevents}:[true|false]<i></i>] [/gm:<i>Message</i>]  # Obtain the publisher names with Wevtutil ep
            [/{f | format}:[ XML | Text ]]               # gm=get message, f=log file format. 

      WEVTUTIL {qe | <b>query-events</b>} <i>Path </i>[/lf | Logfile:[true|false]]  # Query events from a log or log file.
         [/sq:<i>Structquery</i>] [/q:<i>XPathQuery</i>] [/bm:<i>Bookmark</i>]             # provide a Log name or log_file_path (if /lf = true)
            [/sbm:<i>SaveBookmark</i>] [/rd | reversedirection}:[true|false]]  [{f | format}:[<i> XML | Text | RenderedXml</i> ]]
               [/{l | locale}:<i>VALUE</i>]                     # Reverse returns most recent events first.
                  [{c | count}:<i>N</i>]  [/{e | element}:<i>VALUE</i>]   # Maximum number of events to read. / XML Root Element.

      WEVTUTIL [{sl | <b>set-log</b>} <i>LogName</i> [/{e | enabled}:[true|false]]     # Modify the configuration of a log.
         [/{q | quiet}:[true|false]] [/{fm | filemax}:<i>N</i>]                 # Quiet / Max. enablements.
            [/{i | isolation}:[system|application|custom]]               # Log isolation mode.
               [/{lfn | logfilename}:<i>VALUE</i>] [/{rt | retention}:[true|false]]   # Log file / Log retention.
                  [/{ab | autobackup}:[true|false]] [/{ms | maxsize}:<i>Size</i>]  # Log autobackup policy /Max log size.
                     [/{l | level}:<i>Level</i>] [/{k | keywords}:<i>VALUE</i>]        # Level filter of log / Keywords filter.
                        [/{ca | channelaccess}:<i>VALUE</i>] [/{c | config}:<i>VALUE</i>] # Access permission (SDDL)/Path to the config file
                                                      # If /config is specified, do not also specify the <i>LOG_NAME</i>.

      WEVTUTIL {im | <b>install-manifest</b> } <i>MANIFEST</i>        # Install event publishers and logs from <i>MANIFEST</i>.
         [ /{rf | resourceFilePath}:<i>VALUE</i> ] [/{mf | messageFilePath}:<i>VALUE</i>]  # Resource/MessageFileName of the Provider
            [ /{pf | parameterFilePath}:<i>VALUE</i>]          # ParameterFileName of the Provider Element to be replaced.

      WEVTUTIL {um | <b>uninstall-manifest</b>} <i>MANIFEST</i>]      # Uninstall event publishers and logs from <i>MANIFEST</i>.

Common options:

   /{r | remote}:<i>VALUE</i>
              If specified, run the command on a remote computer. VALUE is the remote computer
              name. Options /im and /um do not support remote operations.

   /{u | username}:<i>VALUE</i>
              Specify a different user to log on to the remote computer. VALUE is a user name
              in the form domain\user or user. Only applicable when option /r is specified.
   /{p | password}:<i>VALUE</i>
              Password for the specified user. If not specified, or if VALUE is "*", the user
              will be prompted to enter a password. Only applicable when the /u option is specified.

   /{a | authentication}:[Default|Negotiate|Kerberos|NTLM]
              Authentication type for connecting to remote computer. The default is Negotiate.

   /{uni | unicode}:[true|false]
              Display output in Unicode. If true, then output is in Unicode.</pre>
<p>The primary focus of WEVTUTIL is the configuration and setup of event logs.</p>
<p>Some applications can completely fill their respective event log with errors (Office 2016 I'm looking at you) being able to enumerate the log size and location is a useful tool for tracking down such problems.</p>
<p>Most options for WEVTUTIL are not case sensitive, but the built-in help is and must be requested in UPPER case.<br>
To retrieve event log data  the PowerShell cmdlet <a href="../ps/get-winevent.html">Get-WinEvent</a> is easier to use and more flexible.</p>
<p>WEVTUTIL was first made available in Windows Vista.</p>
<p><b>Examples</b></p>
<p>Clear all the events from the Application log:<br>
<span class="code">C:\&gt; WEVTUtil.exe clear-log Application</span></p>
<p>Batch file to parse every Event log installed on the computer and <b>clear </b>them all:</p>
<p class="code">@echo off <br>
for /f &quot;tokens=*&quot; %%G in ('wevtutil.exe el') do (wevtutil.exe cl &quot;%%G&quot;)</p>
<p>Export events from the <span class="code">System</span> log to C:\backup\ss64.evtx<br>
<span class="code">C:\&gt; WEVTUtil export-log System C:\backup\ss64.evtx</span></p>
<p>List the event publishers on the current computer.<br>
<span class="code">C:\&gt; WEVTUtil enum-publishers</span></p>
<p>Uninstall publishers and logs from the SS64.man manifest file:<br>
<span class="code">C:\&gt; WEVTUtil uninstall-manifest SS64.man</span></p>
<p>Display the 50 most recent events from the Application log in text format: <br>
<span class="code">wevtutil qe Application /c:50 /rd:true /f:text</span></p>
<p>Find the last 20 startup events in the System log:<br>
</p>
<pre>C:\&gt; WEVTUtil query-events System /count:20 /rd:true /format:text /q:&quot;Event[System[(EventID=12)]]&quot; 
</pre>
<p class="quote"><i>&quot;The Statesman who yields to war fever must realize that once the signal is given, he is no longer the master of policy but the slave of unforeseeable and uncontrollable events&quot; ~ Sir Winston Spencer Churchill</i></p>
<p><b>Related:<br>
<br>
</b><a href="eventcreate.html">EVENTCREATE</a> - Add a message to the Windows event log<br>
<a href="sysmon.html">SYSMON</a> - Monitor and log system activity to the Windows event log<br>
PowerShell: <a href="../ps/get-winevent.html">Get-WinEvent</a> -  Get event log data (Vista+)<br>
<a href="../ps/syntax-eventids.html">List of Windows Event IDs.</a><br>
<a href="wmic.html">WMIC NTEVENTLOG</a> - WMI access to the event log</p><!-- #BeginLibraryItem "/Library/foot_nt.lbi" --><p><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- windows300 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-6140977852749469"
     data-ad-slot="7649547908"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>
<hr>
<div id=bl class="footer">&nbsp;</div>
<div id=br class="footer, tagline">Copyright &copy; <a href="https://ss64.com/">SS64.com</a> 1999-2019<br>
Some rights reserved</div><!-- #EndLibraryItem --></body>
</html>